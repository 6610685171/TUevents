{% extends "base.html" %}

{% block title %}
<title>Edit Event</title>
{% endblock %}

{% block content %}
<div id="top-create">
    <div class="create-flex">
        <div class="create-slogan">
            <h1 class="goldman-regular">Event</h1>
            <h1 class="create-andfound goldman-regular">Edit Post</h1>
        </div>
        <div class="create-type-found goldman-regular">EDIT EVENT POST</div>
    </div>
    <div class="create-flex">
        <form class="lost-form noto-sans-thai-about" method="post" enctype="multipart/form-data" action="{% url 'event-edit' announcement_id=announcement.id %}">
            {% csrf_token %}
            
            <!-- Title Field -->
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" name="title" id="title" value="{{ announcement.title }}" required>
            </div>

            <!-- Image Field -->
            <div class="form-group">
                <label for="image">Image</label>
                <div class="custom-image-field">
                    {{ form.image }} 
                </div>
            </div>            
            
            <!-- Description Field -->
            <div class="form-group">
                <label for="description">Description</label>
                <textarea class="form-control" name="description" id="description" rows="4" required>{{ announcement.description }}</textarea>
            </div>

            <!-- Start Date Field -->
            <div class="form-group">
                <label for="start_date">Start Date</label>
                <input type="datetime-local" class="form-control" name="start_date" id="start_date" value="{{ announcement.start_date|date:"Y-m-d\TH:i" }}" required>
            </div>

            <!-- End Date Field -->
            <div class="form-group">
                <label for="end_date">End Date</label>
                <input type="datetime-local" class="form-control" name="end_date" id="end_date" value="{{ announcement.end_date|date:"Y-m-d\TH:i" }}" required>
            </div>

            <!-- Place Field -->
            <div class="form-group">
                <label for="place">Place</label>
                <input type="text" class="form-control" name="place" id="place" value="{{ announcement.place }}" required>
            </div>

            <!-- Club Field -->
            <div class="form-group">
                <label for="club">Club</label>
                {{ form.club }}  <!-- ฟอร์มที่มีฟิลด์ Club -->
            </div>

            <button type="submit" class="btn btn-primary">Save Changes</button>
            <a href="{% url 'event-detail' announcement.id %}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</div>
{% endblock %}
